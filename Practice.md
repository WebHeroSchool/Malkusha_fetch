#Лучшие практики JavaScript

## 1. ОБъявление сверху

**Хорошей практикой написания кода является размещение всех объявлений в начале каждого скрипта или функции.**

Это:

  +  Сделает чище код
  +  Предоставит единственное место для поиска локальных переменных
  +  Позволит избегать нежелательных (подразумеваемых) глобальных переменных
  +  Уменьшит возможность нежелательных повторных объявлений

```
      // Объявите в начале
    var firstName, lastName, price, discount, fullPrice;

    // Используйте после
    firstName = "John";
    lastName = "Doe";

    price = 19.90;
    discount = 0.10;

    fullPrice = price * 100 / discount;
```
Это также относится к переменным цикла:
```
// Объявите в начале
var i;

// Используйте после
for (i = 0; i < 5; i++) {
```

## 2. Никогда не объявляйте числовые (number), строковые (string) или логические (boolean) объекты.
***Всегда обрабатывайте числа, строки или логические значения как примитивные значения. Но не как объекты.

Объявление этих типов как объектов замедляет скорость выполнения и вызывает неприятные побочные эффекты:***
Примеры:
```
var x = "John";
var y = new String("John");
(x === y) // является false, потому что x является строкой и y является объектом.
```
```
var x = new String("John");
var y = new String("John");
(x == y) // является false, потому что вы не можете сравнивать объекты.
```
## 3. Используйте === Сравнение
***Оператор сравнения `==` всегда преобразует (в соответствующие типы) перед сравнением.

Оператор `===` вызывает сравнение значений и типа:***

```
0 == "";        // true
1 == "1";       // true
1 == true;      // true

0 === "";       // false
1 === "1";      // false
1 === true;     // false
```
## 4. Не используйте new Object()
***
    + Используйте {} вместо new Object()
    + Используйте "" вместо new String()
    + Используйте 0 вместо new Number()
    + Используйте false вместо new Boolean()
    + Используйте [] вместо new Array()
    + Используйте /()/ вместо new RegExp()
    + Используйте function (){} вместо new Function()
***
```
var x1 = {};           // new object
var x2 = "";           // new primitive string
var x3 = 0;            // new primitive number
var x4 = false;        // new primitive boolean
var x5 = [];           // new array object
var x6 = /()/;         // new regexp object
var x7 = function(){}; // new function object
```
## 5. Не забывайте `;`
***Использование `;` для завершения выражений является хорошей практикой***
## 6. Уменьшить доступ к переменным и свойствам
***Мы должны сократить время доступа к переменным и свойствам объектов в наших приложениях.***

***Это необходимо потому, что каждый раз, когда мы делаем это, ЦПУ приходится снова и снова обращаться к элементу в памяти, чтобы вычислить его результаты.***

***Поэтому мы должны делать это как можно меньше.***

***Например, если у нас есть цикл, мы должны писать следующее:***
```
let length = arr.length;
for (let i = 0; i < length; i++) {
}
```
***Таким образом arr.length, в нашем цикле на него ссылаются только один раз, вместо того, чтобы обращаться к нему в каждой итерации.***
## 7. Уменьшить размер DOM
***Рендеринг дерева DOM идет медленно. Поэтому мы должны уменьшить размер дерева.

Нет другого пути, кроме как сделать наши веб-страницы максимально простыми.

Имея меньший DOM поиск для элементов с методами querySelector, getElementById или getElementsByTagName будет быстрее, так как им придётся меньше искать.

Кроме того, производительность рендеринга страниц улучшится, так как загружается меньше контента. Это особенно верно для медленных устройств, таких как телефоны и планшеты.***
## 8. Отложить загрузку скриптов
***Загрузка файлов JavaScript - дорогая операция. Браузер должен загрузить файл, проанализировать содержимое, а затем преобразовать его в машинный код и запустить его.

Браузер будет загружать последовательно по одному файлу, поэтому он будет предотвращать любые другие операции.

Поэтому мы должны отложить загрузку скриптов. Мы можем сделать это, поместив тег script в конец нашего HTML документа.***
```
<body>
  <!-- код страницы -->
  <script src="script.js"></script>
</body>
```
## 9. Остерегайтесь автоматических преобразований типов
***Помните, что числа могут быть случайно преобразованы в строки или NaN (Not a Number / Не число).

JavaScript слабо типизирован. Переменная может содержать разные типы данных, а переменная может изменять свой тип данных:***
```
var x = "Hello";     // по типу x является строкой
x = 5;               // изменение типа x на число
```
***При выполнении математических операций JavaScript может преобразовывать числа в строки:***
```
var x = 5 + 7;       // x.valueOf() является 12,  тип x является числом
var x = 5 + "7";     // x.valueOf() является 57,  тип x является строкой
var x = "5" + 7;     // x.valueOf() является 57,  тип x является строкой
var x = 5 - 7;       // x.valueOf() является -2,  тип x является числом
var x = 5 - "7";     // x.valueOf() является -2,  тип x является числом
var x = "5" - 7;     // x.valueOf() является -2,  тип x является числом
var x = 5 - "x";     // x.valueOf() является NaN, тип x является числом
```
## 10. Завершите переключатели (switch) по умолчанию
***Всегда завершайте операторы switch значением default. Даже если вы думаете, что в этом нет необходимости.***
```
switch (new Date().getDay()) {
  case 0:
    day = "Sunday";
    break;
  case 1:
    day = "Monday";
    break;
  case 2:
    day = "Tuesday";
    break;
  case 3:
    day = "Wednesday";
    break;
  case 4:
    day = "Thursday";
    break;
  case 5:
    day = "Friday";
    break;
  case 6:
    day = "Saturday";
    break;
  default:
    day = "Unknown";
}
```
